local TweenService=game:GetService("TweenService")local UserInputService=game:GetService("UserInputService")local RunService=game:GetService("RunService")local OpenButtonLib={}local Defaults={ImageId=0,Size=UDim2.new(0,50,0,50),Position=UDim2.new(0,15,0.5,-25),BackgroundColor=Color3.fromRGB(30,30,30),BackgroundTransparency=0.15,CornerRadius=12,KeepInBounds=true,ZIndex=10}local function Tween(o,i,g)local t=TweenService:Create(o,i,g)t:Play()return t end local function Rainbow()local t=tick()*0.5 return Color3.fromHSV(t%1,1,1)end function OpenButtonLib.CreateDragButton(cfg)local c={}for k,v in pairs(Defaults)do c[k]=cfg[k]or v end local pg=game.Players.LocalPlayer:WaitForChild("PlayerGui")local gui=Instance.new("ScreenGui")gui.Name="OpenButtonUI"gui.ResetOnSpawn=false gui.IgnoreGuiInset=true gui.ZIndexBehavior=Enum.ZIndexBehavior.Sibling gui.Parent=pg local btn=Instance.new("ImageButton")btn.Size=c.Size btn.Position=c.Position btn.BackgroundColor3=c.BackgroundColor btn.BackgroundTransparency=c.BackgroundTransparency btn.Image="rbxassetid://"..tostring(c.ImageId)btn.ZIndex=c.ZIndex btn.Parent=gui btn.Active=true btn.Draggable=false btn.AutoButtonColor=false local corner=Instance.new("UICorner",btn)corner.CornerRadius=UDim.new(0,c.CornerRadius)local stroke=Instance.new("UIStroke",btn)stroke.Thickness=2.5 stroke.Color=Color3.fromRGB(255,255,255)stroke.Transparency=0.1 task.spawn(function()while btn.Parent do stroke.Color=Rainbow()RunService.RenderStepped:Wait()end end)local dragging,dragStart,startPos=false,nil,nil btn.InputBegan:Connect(function(i)if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then dragging=true dragStart=i.Position startPos=btn.Position i.Changed:Connect(function()if i.UserInputState==Enum.UserInputState.End then dragging=false end end)end end)UserInputService.InputChanged:Connect(function(i)if dragging and(i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch)then local d=i.Position-dragStart btn.Position=UDim2.new(startPos.X.Scale,startPos.X.Offset+d.X,startPos.Y.Scale,startPos.Y.Offset+d.Y)if c.KeepInBounds then local s=workspace.CurrentCamera.ViewportSize local p=btn.AbsolutePosition local z=btn.AbsoluteSize local nx=math.clamp(p.X,0,s.X-z.X)local ny=math.clamp(p.Y,0,s.Y-z.Y)btn.Position=UDim2.new(0,nx,0,ny)end end end)function c:show()btn.Visible=true Tween(btn,TweenInfo.new(0.25,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=c.Size,ImageTransparency=0})end function c:hide()Tween(btn,TweenInfo.new(0.2,Enum.EasingStyle.Quad,Enum.EasingDirection.In),{Size=UDim2.new(0,0,0,0),ImageTransparency=1})task.wait(0.2)btn.Visible=false end function c:setImage(id)btn.Image="rbxassetid://"..tostring(id)end function c:setPos(pos)btn.Position=pos end function c:setColor(col)btn.BackgroundColor3=col end function c:destroy()gui:Destroy()end function c:pulse()local s=btn.Size Tween(btn,TweenInfo.new(0.1,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=UDim2.new(s.X.Scale,s.X.Offset*1.1,s.Y.Scale,s.Y.Offset*1.1)}).Completed:Connect(function()Tween(btn,TweenInfo.new(0.15,Enum.EasingStyle.Back,Enum.EasingDirection.Out),{Size=s})end)end c.Button=btn c.Gui=gui return c end return OpenButtonLib
